<!DOCTYPE html>
<html>
<head>
  <style>
    #container {
      position: relative;
      width: 400px;
      height: 400px;
      border: 1px solid #000;
    }

    .mouseImage {
      position: absolute;
      display: none;
    }
  </style>
</head>
<body>
  <div id="container">
  </div>

  <script>
    var container = document.getElementById('container');
    var preImage = document.createElement('img'); // 마우스를 따라다니는 이미지의 미리보기
    var moveCounter = 0; // Add this line
    preImage.style.position = 'absolute';
    preImage.width = 100;
    preImage.height = 100;
    preImage.style.zIndex = 1;
    container.appendChild(preImage);

    container.addEventListener('mousemove', function(event) {
      var x = event.clientX - container.offsetLeft; // 마우스의 x 위치 계산
      var y = event.clientY - container.offsetTop; // 마우스의 y 위치 계산
      moveCounter++; // Increase counter

      // Only change the image every 50 moves
      if (moveCounter % 50 == 0) { // Add this line
        var randomNumber = Math.floor(Math.random() * 16) + 1; // 랜덤한 이미지를 선택하기 위한 변수
        preImage.src = 'piece/' + randomNumber + '.png';
      }

      preImage.style.left = x + 'px';
      preImage.style.top = y + 'px';
    });

    container.addEventListener('click', function(event) {
      var newImage = document.createElement('img');
      newImage.src = preImage.src;
      newImage.width = 100;
      newImage.height = 100;
      newImage.style.position = 'absolute';
      newImage.style.left = event.clientX - container.offsetLeft + 'px';
      newImage.style.top = event.clientY - container.offsetTop + 'px';
      container.appendChild(newImage);
    });
  </script>
</body>
</html>
